2023-11-03 00:42:32.837 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 00:42:34.030 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 00:42:34.036 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 00:42:34.043 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 00:42:34.056 -03:00 [INF] Hosting environment: Development
2023-11-03 00:42:34.061 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 00:42:35.663 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 00:42:37.189 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 1535.5780ms
2023-11-03 00:42:37.428 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 00:42:37.432 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 00:42:37.771 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 338.8099ms
2023-11-03 00:42:38.524 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 1095.9817ms
2023-11-03 00:42:38.642 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 00:42:38.929 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 287.6480ms
2023-11-03 00:43:22.255 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 00:43:23.117 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '03/11/2023 02:57:21', Current time (UTC): '03/11/2023 03:43:23'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-11-03 00:43:23.304 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '03/11/2023 02:57:21', Current time (UTC): '03/11/2023 03:43:23'.
2023-11-03 00:43:23.341 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2023-11-03 00:43:23.372 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-03 00:43:23.379 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 401 0 - 1124.1571ms
2023-11-03 00:45:36.306 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 00:45:36.766 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 00:45:36.769 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 00:45:36.772 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 00:45:36.775 -03:00 [INF] Hosting environment: Development
2023-11-03 00:45:36.779 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 00:45:38.453 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 00:45:39.119 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 670.9501ms
2023-11-03 00:45:39.196 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 00:45:39.196 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 00:45:39.233 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 36.4679ms
2023-11-03 00:45:39.356 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 160.6065ms
2023-11-03 00:45:39.611 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 00:45:40.190 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 578.1460ms
2023-11-03 00:46:10.110 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 00:46:10.378 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 00:46:10.412 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 00:46:17.309 -03:00 [INF] Executed DbCommand (204ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 00:46:23.713 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 00:46:33.690 -03:00 [INF] Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Fights] ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted]
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-03 00:46:33.822 -03:00 [INF] Executed DbCommand (94ms) [Parameters=[@p5='?' (DbType = Int64), @p6='?' (DbType = DateTimeOffset), @p7='?' (DbType = Int64), @p8='?' (DbType = DateTimeOffset), @p9='?' (DbType = Int64), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Int64), @p12='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, 1)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 00:46:37.835 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Fights] ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted]
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-03 00:46:37.869 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Int64), @p6='?' (DbType = DateTimeOffset), @p7='?' (DbType = Int64), @p8='?' (DbType = DateTimeOffset), @p9='?' (DbType = Int64), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Int64), @p12='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, 1)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 00:46:41.818 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Fights] ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted]
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-03 00:46:41.878 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[@p5='?' (DbType = Int64), @p6='?' (DbType = DateTimeOffset), @p7='?' (DbType = Int64), @p8='?' (DbType = DateTimeOffset), @p9='?' (DbType = Int64), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Int64), @p12='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, 1)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 00:46:41.943 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'JiuJitsuMaster.Infrastructure.Database.Contexts.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_AthleteFights_Athletes_AthleteId". The conflict occurred in database "JiuJitsuMasterDB", table "dbo.Athletes", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:283c593e-9667-4de2-8263-6304568fca3e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_AthleteFights_Athletes_AthleteId". The conflict occurred in database "JiuJitsuMasterDB", table "dbo.Athletes", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:283c593e-9667-4de2-8263-6304568fca3e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-03 00:46:42.344 -03:00 [INF] Executing ObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-11-03 00:46:42.359 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 31937.4444ms
2023-11-03 00:46:42.364 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 00:46:42.375 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 500 - application/json;+charset=utf-8 32265.1661ms
2023-11-03 00:57:06.483 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 00:57:06.557 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 00:57:06.565 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 00:57:12.076 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 00:57:22.427 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 01:00:21.382 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Fights] ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted]
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-03 01:00:21.408 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p5='?' (DbType = Int64), @p6='?' (DbType = DateTimeOffset), @p7='?' (DbType = Int64), @p8='?' (DbType = DateTimeOffset), @p9='?' (DbType = Int64), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Int64), @p12='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, 1)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 01:00:21.431 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'JiuJitsuMaster.Infrastructure.Database.Contexts.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_AthleteFights_Athletes_AthleteId". The conflict occurred in database "JiuJitsuMasterDB", table "dbo.Athletes", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3cd86d0f-b843-4b29-9fe4-95ad62a5abc0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_AthleteFights_Athletes_AthleteId". The conflict occurred in database "JiuJitsuMasterDB", table "dbo.Athletes", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3cd86d0f-b843-4b29-9fe4-95ad62a5abc0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-03 01:00:21.818 -03:00 [INF] Executing ObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-11-03 01:00:21.822 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 195253.6971ms
2023-11-03 01:00:21.824 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 01:00:21.828 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 500 - application/json;+charset=utf-8 195350.1428ms
2023-11-03 01:01:07.946 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 01:01:07.962 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 01:01:07.964 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 01:01:22.175 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 01:01:22.183 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 01:03:02.362 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Fights] ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted]
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-03 01:03:02.405 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p5='?' (DbType = Int64), @p6='?' (DbType = DateTimeOffset), @p7='?' (DbType = Int64), @p8='?' (DbType = DateTimeOffset), @p9='?' (DbType = Int64), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Int64), @p12='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, 1)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 01:03:49.519 -03:00 [INF] Executed DbCommand (62ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Fights] ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted]
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-03 01:03:49.555 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p5='?' (DbType = Int64), @p6='?' (DbType = DateTimeOffset), @p7='?' (DbType = Int64), @p8='?' (DbType = DateTimeOffset), @p9='?' (DbType = Int64), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Int64), @p12='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, 1)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 01:03:49.578 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'JiuJitsuMaster.Infrastructure.Database.Contexts.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_AthleteFights_Athletes_AthleteId". The conflict occurred in database "JiuJitsuMasterDB", table "dbo.Athletes", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3cd86d0f-b843-4b29-9fe4-95ad62a5abc0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_AthleteFights_Athletes_AthleteId". The conflict occurred in database "JiuJitsuMasterDB", table "dbo.Athletes", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3cd86d0f-b843-4b29-9fe4-95ad62a5abc0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-03 01:03:50.079 -03:00 [INF] Executing ObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-11-03 01:03:50.082 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 162115.3535ms
2023-11-03 01:03:50.084 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 01:03:50.087 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 500 - application/json;+charset=utf-8 162140.9989ms
2023-11-03 02:07:30.245 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 02:07:30.983 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 02:07:30.998 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 02:07:31.015 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 02:07:31.025 -03:00 [INF] Hosting environment: Development
2023-11-03 02:07:31.033 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 02:07:32.423 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 02:07:33.214 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 02:07:33.221 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 802.0036ms
2023-11-03 02:07:33.246 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 27.5849ms
2023-11-03 02:07:33.305 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 02:07:33.521 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 217.5148ms
2023-11-03 02:07:33.720 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 02:07:34.483 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 765.1870ms
2023-11-03 02:09:54.623 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 02:09:55.623 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 02:09:55.829 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 02:10:10.404 -03:00 [INF] Executed DbCommand (136ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 02:10:10.580 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 02:11:33.507 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Fights] ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted]
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-03 02:11:33.587 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[@p5='?' (DbType = Int64), @p6='?' (DbType = DateTimeOffset), @p7='?' (DbType = Int64), @p8='?' (DbType = DateTimeOffset), @p9='?' (DbType = Int64), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Int64), @p12='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p5, @p6, @p7, @p8, 0),
(@p9, @p10, @p11, @p12, 1)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 02:50:26.856 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 02:50:27.579 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 02:50:27.596 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 02:50:27.615 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 02:50:27.619 -03:00 [INF] Hosting environment: Development
2023-11-03 02:50:27.622 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 02:50:28.711 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 02:50:29.404 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 696.7467ms
2023-11-03 02:50:29.467 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 02:50:29.467 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 02:50:29.513 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 45.7150ms
2023-11-03 02:50:29.648 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 180.9521ms
2023-11-03 02:50:29.839 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 02:50:30.796 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 956.5390ms
2023-11-03 02:50:56.350 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 02:50:56.623 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 02:50:56.673 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 02:51:08.723 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 02:51:08.957 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 233.6467ms
2023-11-03 02:51:09.080 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 02:51:09.080 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 02:51:09.087 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 6.7781ms
2023-11-03 02:51:09.122 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.4982ms
2023-11-03 02:51:09.311 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 02:51:09.353 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/favicon-32x32.png - -
2023-11-03 02:51:09.386 -03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-03 02:51:09.388 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/favicon-32x32.png - - - 200 628 image/png 35.1781ms
2023-11-03 02:51:09.408 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 100.3787ms
2023-11-03 02:51:10.503 -03:00 [ERR] An error occurred using the connection to database 'JiuJitsuMasterDB' on server 'localhost,1433'.
2023-11-03 02:51:10.692 -03:00 [INF] Executing ObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-11-03 02:51:10.708 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 14025.9443ms
2023-11-03 02:51:10.712 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 02:51:10.726 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 0 - application/json;+charset=utf-8 14376.4592ms
2023-11-03 02:51:19.582 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 02:51:19.595 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2023-11-03 02:51:19.609 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-03 02:51:19.614 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 401 0 - 32.7461ms
2023-11-03 02:51:31.756 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 02:51:31.765 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 02:51:31.776 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 02:51:34.625 -03:00 [INF] Executed DbCommand (151ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 02:52:18.685 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 02:53:06.583 -03:00 [INF] Executed DbCommand (243ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 11), @p4='?' (Size = 20), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (Size = 4000), @p11='?' (Size = 50), @p12='?' (DbType = DateTimeOffset), @p13='?' (DbType = Int64), @p14='?' (DbType = Int32), @p15='?' (DbType = Int64), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTimeOffset), @p18='?' (Size = 11), @p19='?' (Size = 20), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 100), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (Size = 100), @p25='?' (Size = 4000), @p26='?' (Size = 50), @p27='?' (DbType = DateTimeOffset), @p28='?' (DbType = Int64), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int64), @p32='?' (DbType = DateTimeOffset), @p33='?' (DbType = DateTimeOffset), @p34='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Athletes] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, 0),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 1)) AS i ([Id], [Belt], [BirthDate], [CPF], [Code], [CreatedAt], [Email], [Gender], [Name], [Password], [RefreshToken], [Team], [UpdatedAt], [UserId], [Weight], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [Belt], [BirthDate], [CPF], [Code], [CreatedAt], [Email], [Gender], [Name], [Password], [RefreshToken], [Team], [UpdatedAt], [UserId], [Weight])
VALUES (i.[Id], i.[Belt], i.[BirthDate], i.[CPF], i.[Code], i.[CreatedAt], i.[Email], i.[Gender], i.[Name], i.[Password], i.[RefreshToken], i.[Team], i.[UpdatedAt], i.[UserId], i.[Weight])
OUTPUT INSERTED.[Deleted], i._Position;
INSERT INTO [Fights] ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted]
VALUES (@p30, @p31, @p32, @p33, @p34);
2023-11-03 02:53:06.686 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'JiuJitsuMaster.Infrastructure.Database.Contexts.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Athletes' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b2067849-c7c0-4790-8fe8-76b32bac6d96
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Athletes' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b2067849-c7c0-4790-8fe8-76b32bac6d96
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-03 02:53:07.266 -03:00 [INF] Executing ObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-11-03 02:53:07.271 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 95488.3753ms
2023-11-03 02:53:07.274 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 02:53:07.280 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 500 - application/json;+charset=utf-8 95523.7991ms
2023-11-03 02:54:55.970 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 02:54:56.550 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 02:54:56.557 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 02:54:56.568 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 02:54:56.572 -03:00 [INF] Hosting environment: Development
2023-11-03 02:54:56.575 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 02:54:57.832 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 02:54:58.312 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 481.5226ms
2023-11-03 02:54:58.359 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 02:54:58.359 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 02:54:58.385 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 26.1305ms
2023-11-03 02:54:58.409 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.5726ms
2023-11-03 02:54:58.515 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 02:54:58.855 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 339.7020ms
2023-11-03 02:55:13.622 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 02:55:14.237 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 02:55:14.324 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 02:55:24.030 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 02:55:24.090 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 59.5638ms
2023-11-03 02:55:24.208 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 02:55:24.213 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 02:55:24.227 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 14.4290ms
2023-11-03 02:55:24.250 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.4345ms
2023-11-03 02:55:24.404 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 02:55:24.485 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 81.7007ms
2023-11-03 02:55:26.362 -03:00 [ERR] An error occurred using the connection to database 'JiuJitsuMasterDB' on server 'localhost,1433'.
2023-11-03 02:55:39.257 -03:00 [INF] Executing ObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-11-03 02:55:39.307 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 24960.1971ms
2023-11-03 02:55:39.324 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 02:55:39.369 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 0 - application/json;+charset=utf-8 25747.1718ms
2023-11-03 02:55:57.645 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 02:55:57.663 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 02:55:57.673 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 02:56:00.910 -03:00 [INF] Executed DbCommand (116ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 02:56:06.166 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 03:01:53.031 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 03:01:54.065 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 03:01:54.077 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 03:01:54.082 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 03:01:54.084 -03:00 [INF] Hosting environment: Development
2023-11-03 03:01:54.086 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 03:01:55.617 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 03:01:56.677 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 1078.3603ms
2023-11-03 03:01:56.734 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 03:01:56.735 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 03:01:56.768 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 34.0914ms
2023-11-03 03:01:57.148 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 412.4340ms
2023-11-03 03:01:57.388 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 03:01:58.030 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 641.7089ms
2023-11-03 03:02:18.992 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 03:02:19.274 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 03:02:19.328 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 03:02:26.242 -03:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 03:02:35.255 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 03:04:39.540 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 03:04:39.991 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 03:04:39.993 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 03:04:39.998 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 03:04:40.000 -03:00 [INF] Hosting environment: Development
2023-11-03 03:04:40.002 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 03:04:41.267 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 03:04:41.724 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 455.9805ms
2023-11-03 03:04:41.740 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 03:04:41.759 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 19.2915ms
2023-11-03 03:04:41.830 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 03:04:41.911 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 80.8387ms
2023-11-03 03:04:42.100 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 03:04:42.495 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 393.2196ms
2023-11-03 03:05:04.727 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 03:05:05.134 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 03:05:05.184 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 03:05:14.779 -03:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 03:05:29.959 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 03:06:01.754 -03:00 [INF] Executed DbCommand (158ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 11), @p4='?' (Size = 20), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (Size = 4000), @p11='?' (Size = 50), @p12='?' (DbType = DateTimeOffset), @p13='?' (DbType = Int64), @p14='?' (DbType = Int32), @p15='?' (DbType = Int64), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTimeOffset), @p18='?' (Size = 11), @p19='?' (Size = 20), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 100), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (Size = 100), @p25='?' (Size = 4000), @p26='?' (Size = 50), @p27='?' (DbType = DateTimeOffset), @p28='?' (DbType = Int64), @p29='?' (DbType = Int32), @p30='?' (DbType = Int64), @p31='?' (DbType = Int32), @p32='?' (DbType = DateTimeOffset), @p33='?' (Size = 11), @p34='?' (Size = 20), @p35='?' (DbType = DateTimeOffset), @p36='?' (Size = 100), @p37='?' (DbType = Int32), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (Size = 4000), @p41='?' (Size = 50), @p42='?' (DbType = DateTimeOffset), @p43='?' (DbType = Int64), @p44='?' (DbType = Int32), @p45='?' (DbType = Int64), @p46='?' (DbType = Int32), @p47='?' (DbType = DateTimeOffset), @p48='?' (Size = 11), @p49='?' (Size = 20), @p50='?' (DbType = DateTimeOffset), @p51='?' (Size = 100), @p52='?' (DbType = Int32), @p53='?' (Size = 100), @p54='?' (Size = 100), @p55='?' (Size = 4000), @p56='?' (Size = 50), @p57='?' (DbType = DateTimeOffset), @p58='?' (DbType = Int64), @p59='?' (DbType = Int32), @p60='?' (DbType = Int64), @p61='?' (DbType = Int32), @p62='?' (DbType = DateTimeOffset), @p63='?' (Size = 11), @p64='?' (Size = 20), @p65='?' (DbType = DateTimeOffset), @p66='?' (Size = 100), @p67='?' (DbType = Int32), @p68='?' (Size = 100), @p69='?' (Size = 100), @p70='?' (Size = 4000), @p71='?' (Size = 50), @p72='?' (DbType = DateTimeOffset), @p73='?' (DbType = Int64), @p74='?' (DbType = Int32), @p75='?' (DbType = Int64), @p76='?' (DbType = Int32), @p77='?' (DbType = DateTimeOffset), @p78='?' (Size = 11), @p79='?' (Size = 20), @p80='?' (DbType = DateTimeOffset), @p81='?' (Size = 100), @p82='?' (DbType = Int32), @p83='?' (Size = 100), @p84='?' (Size = 100), @p85='?' (Size = 4000), @p86='?' (Size = 50), @p87='?' (DbType = DateTimeOffset), @p88='?' (DbType = Int64), @p89='?' (DbType = Int32), @p90='?' (DbType = Int64), @p91='?' (DbType = Int32), @p92='?' (DbType = DateTimeOffset), @p93='?' (Size = 11), @p94='?' (Size = 20), @p95='?' (DbType = DateTimeOffset), @p96='?' (Size = 100), @p97='?' (DbType = Int32), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (Size = 4000), @p101='?' (Size = 50), @p102='?' (DbType = DateTimeOffset), @p103='?' (DbType = Int64), @p104='?' (DbType = Int32), @p105='?' (DbType = Int64), @p106='?' (DbType = Int32), @p107='?' (DbType = DateTimeOffset), @p108='?' (Size = 11), @p109='?' (Size = 20), @p110='?' (DbType = DateTimeOffset), @p111='?' (Size = 100), @p112='?' (DbType = Int32), @p113='?' (Size = 100), @p114='?' (Size = 100), @p115='?' (Size = 4000), @p116='?' (Size = 50), @p117='?' (DbType = DateTimeOffset), @p118='?' (DbType = Int64), @p119='?' (DbType = Int32), @p120='?' (DbType = Int64), @p121='?' (DbType = Int32), @p122='?' (DbType = DateTimeOffset), @p123='?' (Size = 11), @p124='?' (Size = 20), @p125='?' (DbType = DateTimeOffset), @p126='?' (Size = 100), @p127='?' (DbType = Int32), @p128='?' (Size = 100), @p129='?' (Size = 100), @p130='?' (Size = 4000), @p131='?' (Size = 50), @p132='?' (DbType = DateTimeOffset), @p133='?' (DbType = Int64), @p134='?' (DbType = Int32), @p135='?' (DbType = Int64), @p136='?' (DbType = Int32), @p137='?' (DbType = DateTimeOffset), @p138='?' (Size = 11), @p139='?' (Size = 20), @p140='?' (DbType = DateTimeOffset), @p141='?' (Size = 100), @p142='?' (DbType = Int32), @p143='?' (Size = 100), @p144='?' (Size = 100), @p145='?' (Size = 4000), @p146='?' (Size = 50), @p147='?' (DbType = DateTimeOffset), @p148='?' (DbType = Int64), @p149='?' (DbType = Int32), @p150='?' (DbType = Int32), @p151='?' (DbType = Int64), @p152='?' (DbType = DateTimeOffset), @p153='?' (DbType = DateTimeOffset), @p154='?' (DbType = Int32), @p155='?' (DbType = Int32), @p156='?' (DbType = Int64), @p157='?' (DbType = DateTimeOffset), @p158='?' (DbType = DateTimeOffset), @p159='?' (DbType = Int32), @p160='?' (DbType = Int32), @p161='?' (DbType = Int64), @p162='?' (DbType = DateTimeOffset), @p163='?' (DbType = DateTimeOffset), @p164='?' (DbType = Int32), @p165='?' (DbType = Int32), @p166='?' (DbType = Int64), @p167='?' (DbType = DateTimeOffset), @p168='?' (DbType = DateTimeOffset), @p169='?' (DbType = Int32), @p170='?' (DbType = Int32), @p171='?' (DbType = Int64), @p172='?' (DbType = DateTimeOffset), @p173='?' (DbType = DateTimeOffset), @p174='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Athletes] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, 0),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 1),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, 2),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 3),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, 4),
(@p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, 5),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, 6),
(@p105, @p106, @p107, @p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, 7),
(@p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, 8),
(@p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, 9)) AS i ([Id], [Belt], [BirthDate], [CPF], [Code], [CreatedAt], [Email], [Gender], [Name], [Password], [RefreshToken], [Team], [UpdatedAt], [UserId], [Weight], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [Belt], [BirthDate], [CPF], [Code], [CreatedAt], [Email], [Gender], [Name], [Password], [RefreshToken], [Team], [UpdatedAt], [UserId], [Weight])
VALUES (i.[Id], i.[Belt], i.[BirthDate], i.[CPF], i.[Code], i.[CreatedAt], i.[Email], i.[Gender], i.[Name], i.[Password], i.[RefreshToken], i.[Team], i.[UpdatedAt], i.[UserId], i.[Weight])
OUTPUT INSERTED.[Deleted], i._Position;
MERGE [Fights] USING (
VALUES (@p150, @p151, @p152, @p153, @p154, 0),
(@p155, @p156, @p157, @p158, @p159, 1),
(@p160, @p161, @p162, @p163, @p164, 2),
(@p165, @p166, @p167, @p168, @p169, 3),
(@p170, @p171, @p172, @p173, @p174, 4)) AS i ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight])
VALUES (i.[Belt], i.[ChampionshipId], i.[CreatedAt], i.[UpdatedAt], i.[Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 03:06:01.850 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'JiuJitsuMaster.Infrastructure.Database.Contexts.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Athletes' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2998a9e3-0add-4d14-a331-c47e61b21188
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Athletes' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2998a9e3-0add-4d14-a331-c47e61b21188
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-03 03:06:02.288 -03:00 [INF] Executing ObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-11-03 03:06:02.306 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 57110.9324ms
2023-11-03 03:06:02.311 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 03:06:02.325 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 500 - application/json;+charset=utf-8 57598.1574ms
2023-11-03 03:06:26.680 -03:00 [INF] Application is shutting down...
2023-11-03 13:06:07.744 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 13:06:08.172 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 13:06:08.174 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 13:06:08.177 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 13:06:08.178 -03:00 [INF] Hosting environment: Development
2023-11-03 13:06:08.179 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 13:06:09.623 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 13:06:11.196 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 1523.0878ms
2023-11-03 13:06:12.187 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 13:06:12.187 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 13:06:12.280 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 93.7659ms
2023-11-03 13:06:12.494 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 306.7454ms
2023-11-03 13:06:12.597 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 13:06:13.010 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 412.5267ms
2023-11-03 13:06:56.451 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 13:06:56.732 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 13:06:56.762 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 13:08:08.011 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 13:08:08.856 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 13:08:08.857 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 13:08:08.860 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 13:08:08.862 -03:00 [INF] Hosting environment: Development
2023-11-03 13:08:08.863 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 13:08:11.943 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 13:08:12.648 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 705.4577ms
2023-11-03 13:08:12.752 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 13:08:12.752 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 13:08:12.768 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 16.0380ms
2023-11-03 13:08:12.831 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 79.1721ms
2023-11-03 13:08:12.940 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 13:08:13.252 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 312.7039ms
2023-11-03 13:08:26.795 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 13:08:26.969 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 13:08:27.002 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 13:08:31.987 -03:00 [INF] Executed DbCommand (251ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 13:09:07.416 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 13:09:33.271 -03:00 [INF] Executed DbCommand (160ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTimeOffset), @p3='?' (Size = 11), @p4='?' (Size = 20), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (Size = 4000), @p11='?' (Size = 50), @p12='?' (DbType = DateTimeOffset), @p13='?' (DbType = Int64), @p14='?' (DbType = Int32), @p15='?' (DbType = Int64), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTimeOffset), @p18='?' (Size = 11), @p19='?' (Size = 20), @p20='?' (DbType = DateTimeOffset), @p21='?' (Size = 100), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (Size = 100), @p25='?' (Size = 4000), @p26='?' (Size = 50), @p27='?' (DbType = DateTimeOffset), @p28='?' (DbType = Int64), @p29='?' (DbType = Int32), @p30='?' (DbType = Int64), @p31='?' (DbType = Int32), @p32='?' (DbType = DateTimeOffset), @p33='?' (Size = 11), @p34='?' (Size = 20), @p35='?' (DbType = DateTimeOffset), @p36='?' (Size = 100), @p37='?' (DbType = Int32), @p38='?' (Size = 100), @p39='?' (Size = 100), @p40='?' (Size = 4000), @p41='?' (Size = 50), @p42='?' (DbType = DateTimeOffset), @p43='?' (DbType = Int64), @p44='?' (DbType = Int32), @p45='?' (DbType = Int64), @p46='?' (DbType = Int32), @p47='?' (DbType = DateTimeOffset), @p48='?' (Size = 11), @p49='?' (Size = 20), @p50='?' (DbType = DateTimeOffset), @p51='?' (Size = 100), @p52='?' (DbType = Int32), @p53='?' (Size = 100), @p54='?' (Size = 100), @p55='?' (Size = 4000), @p56='?' (Size = 50), @p57='?' (DbType = DateTimeOffset), @p58='?' (DbType = Int64), @p59='?' (DbType = Int32), @p60='?' (DbType = Int64), @p61='?' (DbType = Int32), @p62='?' (DbType = DateTimeOffset), @p63='?' (Size = 11), @p64='?' (Size = 20), @p65='?' (DbType = DateTimeOffset), @p66='?' (Size = 100), @p67='?' (DbType = Int32), @p68='?' (Size = 100), @p69='?' (Size = 100), @p70='?' (Size = 4000), @p71='?' (Size = 50), @p72='?' (DbType = DateTimeOffset), @p73='?' (DbType = Int64), @p74='?' (DbType = Int32), @p75='?' (DbType = Int64), @p76='?' (DbType = Int32), @p77='?' (DbType = DateTimeOffset), @p78='?' (Size = 11), @p79='?' (Size = 20), @p80='?' (DbType = DateTimeOffset), @p81='?' (Size = 100), @p82='?' (DbType = Int32), @p83='?' (Size = 100), @p84='?' (Size = 100), @p85='?' (Size = 4000), @p86='?' (Size = 50), @p87='?' (DbType = DateTimeOffset), @p88='?' (DbType = Int64), @p89='?' (DbType = Int32), @p90='?' (DbType = Int64), @p91='?' (DbType = Int32), @p92='?' (DbType = DateTimeOffset), @p93='?' (Size = 11), @p94='?' (Size = 20), @p95='?' (DbType = DateTimeOffset), @p96='?' (Size = 100), @p97='?' (DbType = Int32), @p98='?' (Size = 100), @p99='?' (Size = 100), @p100='?' (Size = 4000), @p101='?' (Size = 50), @p102='?' (DbType = DateTimeOffset), @p103='?' (DbType = Int64), @p104='?' (DbType = Int32), @p105='?' (DbType = Int64), @p106='?' (DbType = Int32), @p107='?' (DbType = DateTimeOffset), @p108='?' (Size = 11), @p109='?' (Size = 20), @p110='?' (DbType = DateTimeOffset), @p111='?' (Size = 100), @p112='?' (DbType = Int32), @p113='?' (Size = 100), @p114='?' (Size = 100), @p115='?' (Size = 4000), @p116='?' (Size = 50), @p117='?' (DbType = DateTimeOffset), @p118='?' (DbType = Int64), @p119='?' (DbType = Int32), @p120='?' (DbType = Int64), @p121='?' (DbType = Int32), @p122='?' (DbType = DateTimeOffset), @p123='?' (Size = 11), @p124='?' (Size = 20), @p125='?' (DbType = DateTimeOffset), @p126='?' (Size = 100), @p127='?' (DbType = Int32), @p128='?' (Size = 100), @p129='?' (Size = 100), @p130='?' (Size = 4000), @p131='?' (Size = 50), @p132='?' (DbType = DateTimeOffset), @p133='?' (DbType = Int64), @p134='?' (DbType = Int32), @p135='?' (DbType = Int64), @p136='?' (DbType = Int32), @p137='?' (DbType = DateTimeOffset), @p138='?' (Size = 11), @p139='?' (Size = 20), @p140='?' (DbType = DateTimeOffset), @p141='?' (Size = 100), @p142='?' (DbType = Int32), @p143='?' (Size = 100), @p144='?' (Size = 100), @p145='?' (Size = 4000), @p146='?' (Size = 50), @p147='?' (DbType = DateTimeOffset), @p148='?' (DbType = Int64), @p149='?' (DbType = Int32), @p150='?' (DbType = Int32), @p151='?' (DbType = Int64), @p152='?' (DbType = DateTimeOffset), @p153='?' (DbType = DateTimeOffset), @p154='?' (DbType = Int32), @p155='?' (DbType = Int32), @p156='?' (DbType = Int64), @p157='?' (DbType = DateTimeOffset), @p158='?' (DbType = DateTimeOffset), @p159='?' (DbType = Int32), @p160='?' (DbType = Int32), @p161='?' (DbType = Int64), @p162='?' (DbType = DateTimeOffset), @p163='?' (DbType = DateTimeOffset), @p164='?' (DbType = Int32), @p165='?' (DbType = Int32), @p166='?' (DbType = Int64), @p167='?' (DbType = DateTimeOffset), @p168='?' (DbType = DateTimeOffset), @p169='?' (DbType = Int32), @p170='?' (DbType = Int32), @p171='?' (DbType = Int64), @p172='?' (DbType = DateTimeOffset), @p173='?' (DbType = DateTimeOffset), @p174='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Athletes] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, 0),
(@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, 1),
(@p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, 2),
(@p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, 3),
(@p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, 4),
(@p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, 5),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, 6),
(@p105, @p106, @p107, @p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, 7),
(@p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, 8),
(@p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, 9)) AS i ([Id], [Belt], [BirthDate], [CPF], [Code], [CreatedAt], [Email], [Gender], [Name], [Password], [RefreshToken], [Team], [UpdatedAt], [UserId], [Weight], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [Belt], [BirthDate], [CPF], [Code], [CreatedAt], [Email], [Gender], [Name], [Password], [RefreshToken], [Team], [UpdatedAt], [UserId], [Weight])
VALUES (i.[Id], i.[Belt], i.[BirthDate], i.[CPF], i.[Code], i.[CreatedAt], i.[Email], i.[Gender], i.[Name], i.[Password], i.[RefreshToken], i.[Team], i.[UpdatedAt], i.[UserId], i.[Weight])
OUTPUT INSERTED.[Deleted], i._Position;
MERGE [Fights] USING (
VALUES (@p150, @p151, @p152, @p153, @p154, 0),
(@p155, @p156, @p157, @p158, @p159, 1),
(@p160, @p161, @p162, @p163, @p164, 2),
(@p165, @p166, @p167, @p168, @p169, 3),
(@p170, @p171, @p172, @p173, @p174, 4)) AS i ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight])
VALUES (i.[Belt], i.[ChampionshipId], i.[CreatedAt], i.[UpdatedAt], i.[Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 13:09:33.341 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'JiuJitsuMaster.Infrastructure.Database.Contexts.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Athletes' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0ec82eab-862a-4c77-bd7d-518139865a56
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Athletes' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0ec82eab-862a-4c77-bd7d-518139865a56
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-03 13:19:08.526 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 13:19:08.837 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 13:19:08.838 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 13:19:08.840 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 13:19:08.841 -03:00 [INF] Hosting environment: Development
2023-11-03 13:19:08.842 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 13:19:09.909 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 13:19:10.547 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 638.1326ms
2023-11-03 13:19:10.587 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 13:19:10.658 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 13:19:10.668 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 80.6357ms
2023-11-03 13:19:11.205 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 547.2435ms
2023-11-03 13:19:11.448 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 13:19:11.816 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 374.2617ms
2023-11-03 13:19:34.051 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 13:19:34.254 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 13:19:34.293 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 13:19:38.414 -03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 13:19:44.366 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 13:21:53.412 -03:00 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int64), @p7='?' (DbType = DateTimeOffset), @p8='?' (DbType = DateTimeOffset), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int64), @p12='?' (DbType = DateTimeOffset), @p13='?' (DbType = DateTimeOffset), @p14='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Fights] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2)) AS i ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight])
VALUES (i.[Belt], i.[ChampionshipId], i.[CreatedAt], i.[UpdatedAt], i.[Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 13:21:53.454 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p15='?' (DbType = Int64), @p16='?' (DbType = DateTimeOffset), @p17='?' (DbType = Int64), @p18='?' (DbType = DateTimeOffset), @p19='?' (DbType = Int64), @p20='?' (DbType = DateTimeOffset), @p21='?' (DbType = Int64), @p22='?' (DbType = DateTimeOffset), @p23='?' (DbType = Int64), @p24='?' (DbType = DateTimeOffset), @p25='?' (DbType = Int64), @p26='?' (DbType = DateTimeOffset), @p27='?' (DbType = Int64), @p28='?' (DbType = DateTimeOffset), @p29='?' (DbType = Int64), @p30='?' (DbType = DateTimeOffset), @p31='?' (DbType = Int64), @p32='?' (DbType = DateTimeOffset), @p33='?' (DbType = Int64), @p34='?' (DbType = DateTimeOffset), @p35='?' (DbType = Int64), @p36='?' (DbType = DateTimeOffset), @p37='?' (DbType = Int64), @p38='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p15, @p16, @p17, @p18, 0),
(@p19, @p20, @p21, @p22, 1),
(@p23, @p24, @p25, @p26, 2),
(@p27, @p28, @p29, @p30, 3),
(@p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, 5)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 13:22:06.662 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Int64), @p4='?' (DbType = DateTimeOffset), @p5='?' (DbType = Int64), @p6='?' (DbType = Int64), @p7='?' (DbType = DateTimeOffset), @p8='?' (DbType = Int64), @p9='?' (DbType = DateTimeOffset), @p10='?' (DbType = Int64), @p11='?' (DbType = Int64), @p12='?' (DbType = DateTimeOffset), @p13='?' (DbType = Int64), @p14='?' (DbType = DateTimeOffset), @p15='?' (DbType = Int64), @p16='?' (DbType = Int64), @p17='?' (DbType = DateTimeOffset), @p18='?' (DbType = Int64), @p19='?' (DbType = DateTimeOffset), @p20='?' (DbType = Int64), @p21='?' (DbType = Int64), @p22='?' (DbType = DateTimeOffset), @p23='?' (DbType = Int64), @p24='?' (DbType = DateTimeOffset), @p25='?' (DbType = Int64), @p26='?' (DbType = Int64), @p27='?' (DbType = DateTimeOffset), @p28='?' (DbType = Int64), @p29='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2),
(@p15, @p16, @p17, @p18, @p19, 3),
(@p20, @p21, @p22, @p23, @p24, 4),
(@p25, @p26, @p27, @p28, @p29, 5)) AS i ([Id], [AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[Id], i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Deleted], i._Position;
2023-11-03 13:22:06.722 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'JiuJitsuMaster.Infrastructure.Database.Contexts.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'AthleteFights' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:64993614-cca0-4b60-aff9-b9162ec774c1
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'AthleteFights' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:64993614-cca0-4b60-aff9-b9162ec774c1
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-03 13:22:06.900 -03:00 [INF] Executing ObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-11-03 13:22:06.917 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 152618.8364ms
2023-11-03 13:22:06.920 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 13:22:06.930 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 500 - application/json;+charset=utf-8 152880.3980ms
2023-11-03 13:26:45.904 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 13:26:46.313 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 13:26:46.314 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 13:26:46.316 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 13:26:46.316 -03:00 [INF] Hosting environment: Development
2023-11-03 13:26:46.317 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 13:26:47.456 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 13:26:47.834 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 377.0417ms
2023-11-03 13:26:47.846 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 13:26:47.862 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 16.0407ms
2023-11-03 13:26:47.919 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 13:26:48.150 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 230.6935ms
2023-11-03 13:26:48.297 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 13:26:48.710 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 412.9477ms
2023-11-03 13:27:26.697 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 13:27:26.870 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 13:27:26.903 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 13:27:31.537 -03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 13:27:35.995 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 13:27:39.934 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = DateTimeOffset), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int64), @p7='?' (DbType = DateTimeOffset), @p8='?' (DbType = DateTimeOffset), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int64), @p12='?' (DbType = DateTimeOffset), @p13='?' (DbType = DateTimeOffset), @p14='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Fights] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2)) AS i ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Belt], [ChampionshipId], [CreatedAt], [UpdatedAt], [Weight])
VALUES (i.[Belt], i.[ChampionshipId], i.[CreatedAt], i.[UpdatedAt], i.[Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 13:27:39.963 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p15='?' (DbType = Int64), @p16='?' (DbType = DateTimeOffset), @p17='?' (DbType = Int64), @p18='?' (DbType = DateTimeOffset), @p19='?' (DbType = Int64), @p20='?' (DbType = DateTimeOffset), @p21='?' (DbType = Int64), @p22='?' (DbType = DateTimeOffset), @p23='?' (DbType = Int64), @p24='?' (DbType = DateTimeOffset), @p25='?' (DbType = Int64), @p26='?' (DbType = DateTimeOffset), @p27='?' (DbType = Int64), @p28='?' (DbType = DateTimeOffset), @p29='?' (DbType = Int64), @p30='?' (DbType = DateTimeOffset), @p31='?' (DbType = Int64), @p32='?' (DbType = DateTimeOffset), @p33='?' (DbType = Int64), @p34='?' (DbType = DateTimeOffset), @p35='?' (DbType = Int64), @p36='?' (DbType = DateTimeOffset), @p37='?' (DbType = Int64), @p38='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p15, @p16, @p17, @p18, 0),
(@p19, @p20, @p21, @p22, 1),
(@p23, @p24, @p25, @p26, 2),
(@p27, @p28, @p29, @p30, 3),
(@p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, 5)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 13:27:43.167 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Championships] SET [Phase] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-11-03 13:27:45.758 -03:00 [INF] Executing OkObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[CommonUtility.Model.MessageModel, CommonUtility, Version=1.5.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-03 13:27:45.770 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 18860.7291ms
2023-11-03 13:27:45.772 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 13:27:45.780 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 200 - application/json;+charset=utf-8 19084.2478ms
2023-11-03 15:43:17.532 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 15:43:17.821 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 15:43:17.822 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 15:43:17.824 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 15:43:17.825 -03:00 [INF] Hosting environment: Development
2023-11-03 15:43:17.825 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 15:43:18.988 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 15:43:19.504 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 517.2854ms
2023-11-03 15:43:19.567 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 15:43:19.695 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 15:43:19.780 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 210.9732ms
2023-11-03 15:43:19.985 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 290.0803ms
2023-11-03 15:43:20.116 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 15:43:20.535 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 419.7343ms
2023-11-03 15:48:45.929 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 15:48:46.104 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 15:48:46.135 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 15:51:12.737 -03:00 [INF] Executed DbCommand (162ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 15:51:22.995 -03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 15:52:24.503 -03:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTimeOffset), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int64), @p8='?' (DbType = DateTimeOffset), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int64), @p14='?' (DbType = DateTimeOffset), @p15='?' (DbType = Boolean), @p16='?' (DbType = DateTimeOffset), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int64), @p20='?' (DbType = DateTimeOffset), @p21='?' (DbType = Boolean), @p22='?' (DbType = DateTimeOffset), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int64), @p26='?' (DbType = DateTimeOffset), @p27='?' (DbType = Boolean), @p28='?' (DbType = DateTimeOffset), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int64), @p32='?' (DbType = DateTimeOffset), @p33='?' (DbType = Boolean), @p34='?' (DbType = DateTimeOffset), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = Int64), @p38='?' (DbType = DateTimeOffset), @p39='?' (DbType = Boolean), @p40='?' (DbType = DateTimeOffset), @p41='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Fights] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6)) AS i ([Belt], [ChampionshipId], [CreatedAt], [IsInternalTeamFight], [UpdatedAt], [Weight], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Belt], [ChampionshipId], [CreatedAt], [IsInternalTeamFight], [UpdatedAt], [Weight])
VALUES (i.[Belt], i.[ChampionshipId], i.[CreatedAt], i.[IsInternalTeamFight], i.[UpdatedAt], i.[Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 15:52:24.540 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p42='?' (DbType = Int64), @p43='?' (DbType = DateTimeOffset), @p44='?' (DbType = Int64), @p45='?' (DbType = DateTimeOffset), @p46='?' (DbType = Int64), @p47='?' (DbType = DateTimeOffset), @p48='?' (DbType = Int64), @p49='?' (DbType = DateTimeOffset), @p50='?' (DbType = Int64), @p51='?' (DbType = DateTimeOffset), @p52='?' (DbType = Int64), @p53='?' (DbType = DateTimeOffset), @p54='?' (DbType = Int64), @p55='?' (DbType = DateTimeOffset), @p56='?' (DbType = Int64), @p57='?' (DbType = DateTimeOffset), @p58='?' (DbType = Int64), @p59='?' (DbType = DateTimeOffset), @p60='?' (DbType = Int64), @p61='?' (DbType = DateTimeOffset), @p62='?' (DbType = Int64), @p63='?' (DbType = DateTimeOffset), @p64='?' (DbType = Int64), @p65='?' (DbType = DateTimeOffset), @p66='?' (DbType = Int64), @p67='?' (DbType = DateTimeOffset), @p68='?' (DbType = Int64), @p69='?' (DbType = DateTimeOffset), @p70='?' (DbType = Int64), @p71='?' (DbType = DateTimeOffset), @p72='?' (DbType = Int64), @p73='?' (DbType = DateTimeOffset), @p74='?' (DbType = Int64), @p75='?' (DbType = DateTimeOffset), @p76='?' (DbType = Int64), @p77='?' (DbType = DateTimeOffset), @p78='?' (DbType = Int64), @p79='?' (DbType = DateTimeOffset), @p80='?' (DbType = Int64), @p81='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p42, @p43, @p44, @p45, 0),
(@p46, @p47, @p48, @p49, 1),
(@p50, @p51, @p52, @p53, 2),
(@p54, @p55, @p56, @p57, 3),
(@p58, @p59, @p60, @p61, 4),
(@p62, @p63, @p64, @p65, 5),
(@p66, @p67, @p68, @p69, 6),
(@p70, @p71, @p72, @p73, 7),
(@p74, @p75, @p76, @p77, 8),
(@p78, @p79, @p80, @p81, 9)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 15:52:26.272 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Championships] SET [Phase] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-11-03 15:52:28.522 -03:00 [INF] Executing OkObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[CommonUtility.Model.MessageModel, CommonUtility, Version=1.5.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-03 15:52:28.536 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 222396.0763ms
2023-11-03 15:52:28.538 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 15:52:28.544 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 200 - application/json;+charset=utf-8 222616.9591ms
2023-11-03 16:59:56.604 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 16:59:56.861 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 16:59:56.862 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 16:59:56.864 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 16:59:56.865 -03:00 [INF] Hosting environment: Development
2023-11-03 16:59:56.866 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 16:59:58.158 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 16:59:58.701 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 544.0392ms
2023-11-03 16:59:58.754 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 16:59:58.755 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 16:59:58.777 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 23.1617ms
2023-11-03 16:59:58.965 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 211.2164ms
2023-11-03 16:59:59.107 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 16:59:59.784 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 676.9711ms
2023-11-03 17:00:29.321 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 17:00:29.498 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 17:00:29.530 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 17:00:34.247 -03:00 [INF] Executed DbCommand (104ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 17:00:38.886 -03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 17:00:45.189 -03:00 [INF] Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int64), @p9='?' (DbType = DateTimeOffset), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTimeOffset), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int64), @p16='?' (DbType = DateTimeOffset), @p17='?' (DbType = Boolean), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTimeOffset), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int64), @p23='?' (DbType = DateTimeOffset), @p24='?' (DbType = Boolean), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTimeOffset), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int64), @p30='?' (DbType = DateTimeOffset), @p31='?' (DbType = Boolean), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTimeOffset), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int64), @p37='?' (DbType = DateTimeOffset), @p38='?' (DbType = Boolean), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTimeOffset), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int64), @p44='?' (DbType = DateTimeOffset), @p45='?' (DbType = Boolean), @p46='?' (DbType = Int32), @p47='?' (DbType = DateTimeOffset), @p48='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Fights] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([Belt], [ChampionshipId], [CreatedAt], [IsInternalTeamFight], [Round], [UpdatedAt], [Weight], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Belt], [ChampionshipId], [CreatedAt], [IsInternalTeamFight], [Round], [UpdatedAt], [Weight])
VALUES (i.[Belt], i.[ChampionshipId], i.[CreatedAt], i.[IsInternalTeamFight], i.[Round], i.[UpdatedAt], i.[Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 17:00:45.224 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p49='?' (DbType = Int64), @p50='?' (DbType = DateTimeOffset), @p51='?' (DbType = Int64), @p52='?' (DbType = DateTimeOffset), @p53='?' (DbType = Int64), @p54='?' (DbType = DateTimeOffset), @p55='?' (DbType = Int64), @p56='?' (DbType = DateTimeOffset), @p57='?' (DbType = Int64), @p58='?' (DbType = DateTimeOffset), @p59='?' (DbType = Int64), @p60='?' (DbType = DateTimeOffset), @p61='?' (DbType = Int64), @p62='?' (DbType = DateTimeOffset), @p63='?' (DbType = Int64), @p64='?' (DbType = DateTimeOffset), @p65='?' (DbType = Int64), @p66='?' (DbType = DateTimeOffset), @p67='?' (DbType = Int64), @p68='?' (DbType = DateTimeOffset), @p69='?' (DbType = Int64), @p70='?' (DbType = DateTimeOffset), @p71='?' (DbType = Int64), @p72='?' (DbType = DateTimeOffset), @p73='?' (DbType = Int64), @p74='?' (DbType = DateTimeOffset), @p75='?' (DbType = Int64), @p76='?' (DbType = DateTimeOffset), @p77='?' (DbType = Int64), @p78='?' (DbType = DateTimeOffset), @p79='?' (DbType = Int64), @p80='?' (DbType = DateTimeOffset), @p81='?' (DbType = Int64), @p82='?' (DbType = DateTimeOffset), @p83='?' (DbType = Int64), @p84='?' (DbType = DateTimeOffset), @p85='?' (DbType = Int64), @p86='?' (DbType = DateTimeOffset), @p87='?' (DbType = Int64), @p88='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p49, @p50, @p51, @p52, 0),
(@p53, @p54, @p55, @p56, 1),
(@p57, @p58, @p59, @p60, 2),
(@p61, @p62, @p63, @p64, 3),
(@p65, @p66, @p67, @p68, 4),
(@p69, @p70, @p71, @p72, 5),
(@p73, @p74, @p75, @p76, 6),
(@p77, @p78, @p79, @p80, 7),
(@p81, @p82, @p83, @p84, 8),
(@p85, @p86, @p87, @p88, 9)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 17:00:47.254 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Championships] SET [Phase] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-11-03 17:01:13.961 -03:00 [INF] Executing OkObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[CommonUtility.Model.MessageModel, CommonUtility, Version=1.5.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-03 17:01:13.976 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 44436.2787ms
2023-11-03 17:01:13.977 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 17:01:13.985 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 200 - application/json;+charset=utf-8 44663.6120ms
2023-11-03 17:28:17.331 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 17:28:17.625 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 17:28:17.626 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 17:28:17.628 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 17:28:17.630 -03:00 [INF] Hosting environment: Development
2023-11-03 17:28:17.630 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 17:28:18.543 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 17:28:19.131 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 590.8481ms
2023-11-03 17:28:19.235 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 17:28:19.236 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 17:28:19.310 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 75.2786ms
2023-11-03 17:28:19.467 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 231.1308ms
2023-11-03 17:28:19.577 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 17:28:19.907 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 329.2662ms
2023-11-03 17:28:54.687 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 17:28:54.848 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 17:28:54.876 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 17:29:00.089 -03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 17:29:04.082 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 17:29:11.456 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Championships] SET [Phase] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-11-03 17:29:11.473 -03:00 [INF] Executing OkObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[CommonUtility.Model.MessageModel, CommonUtility, Version=1.5.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-03 17:29:11.486 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 16603.7721ms
2023-11-03 17:29:11.488 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 17:29:11.494 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 200 - application/json;+charset=utf-8 16808.1837ms
2023-11-03 17:29:36.845 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 17:29:36.875 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 17:29:36.876 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 17:29:46.139 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 17:29:46.144 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 17:32:37.752 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 17:32:38.022 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 17:32:38.023 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 17:32:38.026 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 17:32:38.026 -03:00 [INF] Hosting environment: Development
2023-11-03 17:32:38.027 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 17:32:38.918 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 17:32:39.224 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 302.5440ms
2023-11-03 17:32:39.228 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 17:32:39.240 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 11.8479ms
2023-11-03 17:32:39.268 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 17:32:39.289 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.7414ms
2023-11-03 17:32:39.375 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 17:32:39.623 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 248.5615ms
2023-11-03 17:32:58.630 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 17:32:58.831 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 17:32:58.864 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 17:33:03.155 -03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 17:33:03.260 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 17:33:08.468 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int64), @p9='?' (DbType = DateTimeOffset), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTimeOffset), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int64), @p16='?' (DbType = DateTimeOffset), @p17='?' (DbType = Boolean), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTimeOffset), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int64), @p23='?' (DbType = DateTimeOffset), @p24='?' (DbType = Boolean), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTimeOffset), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int64), @p30='?' (DbType = DateTimeOffset), @p31='?' (DbType = Boolean), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTimeOffset), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int64), @p37='?' (DbType = DateTimeOffset), @p38='?' (DbType = Boolean), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTimeOffset), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int64), @p44='?' (DbType = DateTimeOffset), @p45='?' (DbType = Boolean), @p46='?' (DbType = Int32), @p47='?' (DbType = DateTimeOffset), @p48='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Fights] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([Belt], [ChampionshipId], [CreatedAt], [IsInternalTeamFight], [Round], [UpdatedAt], [Weight], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Belt], [ChampionshipId], [CreatedAt], [IsInternalTeamFight], [Round], [UpdatedAt], [Weight])
VALUES (i.[Belt], i.[ChampionshipId], i.[CreatedAt], i.[IsInternalTeamFight], i.[Round], i.[UpdatedAt], i.[Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 17:33:08.501 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p49='?' (DbType = Int64), @p50='?' (DbType = DateTimeOffset), @p51='?' (DbType = Int64), @p52='?' (DbType = DateTimeOffset), @p53='?' (DbType = Int64), @p54='?' (DbType = DateTimeOffset), @p55='?' (DbType = Int64), @p56='?' (DbType = DateTimeOffset), @p57='?' (DbType = Int64), @p58='?' (DbType = DateTimeOffset), @p59='?' (DbType = Int64), @p60='?' (DbType = DateTimeOffset), @p61='?' (DbType = Int64), @p62='?' (DbType = DateTimeOffset), @p63='?' (DbType = Int64), @p64='?' (DbType = DateTimeOffset), @p65='?' (DbType = Int64), @p66='?' (DbType = DateTimeOffset), @p67='?' (DbType = Int64), @p68='?' (DbType = DateTimeOffset), @p69='?' (DbType = Int64), @p70='?' (DbType = DateTimeOffset), @p71='?' (DbType = Int64), @p72='?' (DbType = DateTimeOffset), @p73='?' (DbType = Int64), @p74='?' (DbType = DateTimeOffset), @p75='?' (DbType = Int64), @p76='?' (DbType = DateTimeOffset), @p77='?' (DbType = Int64), @p78='?' (DbType = DateTimeOffset), @p79='?' (DbType = Int64), @p80='?' (DbType = DateTimeOffset), @p81='?' (DbType = Int64), @p82='?' (DbType = DateTimeOffset), @p83='?' (DbType = Int64), @p84='?' (DbType = DateTimeOffset), @p85='?' (DbType = Int64), @p86='?' (DbType = DateTimeOffset), @p87='?' (DbType = Int64), @p88='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p49, @p50, @p51, @p52, 0),
(@p53, @p54, @p55, @p56, 1),
(@p57, @p58, @p59, @p60, 2),
(@p61, @p62, @p63, @p64, 3),
(@p65, @p66, @p67, @p68, 4),
(@p69, @p70, @p71, @p72, 5),
(@p73, @p74, @p75, @p76, 6),
(@p77, @p78, @p79, @p80, 7),
(@p81, @p82, @p83, @p84, 8),
(@p85, @p86, @p87, @p88, 9)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 17:33:08.600 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Championships] SET [Phase] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-11-03 17:33:08.612 -03:00 [INF] Executing OkObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[CommonUtility.Model.MessageModel, CommonUtility, Version=1.5.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-03 17:33:08.621 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 9752.9877ms
2023-11-03 17:33:08.623 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 17:33:08.632 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 200 - application/json;+charset=utf-8 10002.0666ms
2023-11-03 17:37:51.992 -03:00 [INF] User profile is available. Using 'C:\Users\tpass\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-11-03 17:37:52.218 -03:00 [INF] Now listening on: https://localhost:7085
2023-11-03 17:37:52.219 -03:00 [INF] Now listening on: http://localhost:5251
2023-11-03 17:37:52.221 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-03 17:37:52.221 -03:00 [INF] Hosting environment: Development
2023-11-03 17:37:52.222 -03:00 [INF] Content root path: C:\Trabalhos\jiu-jitsu_championships_api\Apis\JiuJitsuMaster.AdminAPI
2023-11-03 17:37:53.280 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/index.html - -
2023-11-03 17:37:53.916 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/index.html - - - 200 - text/html;charset=utf-8 637.0530ms
2023-11-03 17:37:53.971 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - -
2023-11-03 17:37:53.973 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/_vs/browserLink - -
2023-11-03 17:37:54.020 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_framework/aspnetcore-browser-refresh.js - - - 200 12378 application/javascript;+charset=utf-8 48.2862ms
2023-11-03 17:37:54.059 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 84.3956ms
2023-11-03 17:37:54.259 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - -
2023-11-03 17:37:54.692 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7085/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 433.4691ms
2023-11-03 17:38:15.373 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 17:38:15.528 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 17:38:15.554 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 17:38:19.993 -03:00 [INF] Executed DbCommand (63ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 17:38:20.101 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 17:38:38.521 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int64), @p9='?' (DbType = DateTimeOffset), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTimeOffset), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int64), @p16='?' (DbType = DateTimeOffset), @p17='?' (DbType = Boolean), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTimeOffset), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int64), @p23='?' (DbType = DateTimeOffset), @p24='?' (DbType = Boolean), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTimeOffset), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int64), @p30='?' (DbType = DateTimeOffset), @p31='?' (DbType = Boolean), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTimeOffset), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int64), @p37='?' (DbType = DateTimeOffset), @p38='?' (DbType = Boolean), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTimeOffset), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int64), @p44='?' (DbType = DateTimeOffset), @p45='?' (DbType = Boolean), @p46='?' (DbType = Int32), @p47='?' (DbType = DateTimeOffset), @p48='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Fights] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([Belt], [ChampionshipId], [CreatedAt], [IsInternalTeamFight], [Round], [UpdatedAt], [Weight], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Belt], [ChampionshipId], [CreatedAt], [IsInternalTeamFight], [Round], [UpdatedAt], [Weight])
VALUES (i.[Belt], i.[ChampionshipId], i.[CreatedAt], i.[IsInternalTeamFight], i.[Round], i.[UpdatedAt], i.[Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 17:38:38.544 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p49='?' (DbType = Int64), @p50='?' (DbType = DateTimeOffset), @p51='?' (DbType = Int64), @p52='?' (DbType = DateTimeOffset), @p53='?' (DbType = Int64), @p54='?' (DbType = DateTimeOffset), @p55='?' (DbType = Int64), @p56='?' (DbType = DateTimeOffset), @p57='?' (DbType = Int64), @p58='?' (DbType = DateTimeOffset), @p59='?' (DbType = Int64), @p60='?' (DbType = DateTimeOffset), @p61='?' (DbType = Int64), @p62='?' (DbType = DateTimeOffset), @p63='?' (DbType = Int64), @p64='?' (DbType = DateTimeOffset), @p65='?' (DbType = Int64), @p66='?' (DbType = DateTimeOffset), @p67='?' (DbType = Int64), @p68='?' (DbType = DateTimeOffset), @p69='?' (DbType = Int64), @p70='?' (DbType = DateTimeOffset), @p71='?' (DbType = Int64), @p72='?' (DbType = DateTimeOffset), @p73='?' (DbType = Int64), @p74='?' (DbType = DateTimeOffset), @p75='?' (DbType = Int64), @p76='?' (DbType = DateTimeOffset), @p77='?' (DbType = Int64), @p78='?' (DbType = DateTimeOffset), @p79='?' (DbType = Int64), @p80='?' (DbType = DateTimeOffset), @p81='?' (DbType = Int64), @p82='?' (DbType = DateTimeOffset), @p83='?' (DbType = Int64), @p84='?' (DbType = DateTimeOffset), @p85='?' (DbType = Int64), @p86='?' (DbType = DateTimeOffset), @p87='?' (DbType = Int64), @p88='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p49, @p50, @p51, @p52, 0),
(@p53, @p54, @p55, @p56, 1),
(@p57, @p58, @p59, @p60, 2),
(@p61, @p62, @p63, @p64, 3),
(@p65, @p66, @p67, @p68, 4),
(@p69, @p70, @p71, @p72, 5),
(@p73, @p74, @p75, @p76, 6),
(@p77, @p78, @p79, @p80, 7),
(@p81, @p82, @p83, @p84, 8),
(@p85, @p86, @p87, @p88, 9)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 17:38:40.774 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Championships] SET [Phase] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-11-03 17:38:40.787 -03:00 [INF] Executing OkObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[CommonUtility.Model.MessageModel, CommonUtility, Version=1.5.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-03 17:38:40.798 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 25238.289ms
2023-11-03 17:38:40.800 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 17:38:40.808 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 200 - application/json;+charset=utf-8 25436.3205ms
2023-11-03 17:39:17.772 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 17:39:17.792 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 17:39:17.794 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 17:39:19.994 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 17:39:20.000 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 17:39:22.189 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int64), @p9='?' (DbType = DateTimeOffset), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTimeOffset), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int64), @p16='?' (DbType = DateTimeOffset), @p17='?' (DbType = Boolean), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTimeOffset), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int64), @p23='?' (DbType = DateTimeOffset), @p24='?' (DbType = Boolean), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTimeOffset), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int64), @p30='?' (DbType = DateTimeOffset), @p31='?' (DbType = Boolean), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTimeOffset), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int64), @p37='?' (DbType = DateTimeOffset), @p38='?' (DbType = Boolean), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTimeOffset), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int64), @p44='?' (DbType = DateTimeOffset), @p45='?' (DbType = Boolean), @p46='?' (DbType = Int32), @p47='?' (DbType = DateTimeOffset), @p48='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Fights] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([Belt], [ChampionshipId], [CreatedAt], [IsInternalTeamFight], [Round], [UpdatedAt], [Weight], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Belt], [ChampionshipId], [CreatedAt], [IsInternalTeamFight], [Round], [UpdatedAt], [Weight])
VALUES (i.[Belt], i.[ChampionshipId], i.[CreatedAt], i.[IsInternalTeamFight], i.[Round], i.[UpdatedAt], i.[Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 17:39:22.195 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p49='?' (DbType = Int64), @p50='?' (DbType = DateTimeOffset), @p51='?' (DbType = Int64), @p52='?' (DbType = DateTimeOffset), @p53='?' (DbType = Int64), @p54='?' (DbType = DateTimeOffset), @p55='?' (DbType = Int64), @p56='?' (DbType = DateTimeOffset), @p57='?' (DbType = Int64), @p58='?' (DbType = DateTimeOffset), @p59='?' (DbType = Int64), @p60='?' (DbType = DateTimeOffset), @p61='?' (DbType = Int64), @p62='?' (DbType = DateTimeOffset), @p63='?' (DbType = Int64), @p64='?' (DbType = DateTimeOffset), @p65='?' (DbType = Int64), @p66='?' (DbType = DateTimeOffset), @p67='?' (DbType = Int64), @p68='?' (DbType = DateTimeOffset), @p69='?' (DbType = Int64), @p70='?' (DbType = DateTimeOffset), @p71='?' (DbType = Int64), @p72='?' (DbType = DateTimeOffset), @p73='?' (DbType = Int64), @p74='?' (DbType = DateTimeOffset), @p75='?' (DbType = Int64), @p76='?' (DbType = DateTimeOffset), @p77='?' (DbType = Int64), @p78='?' (DbType = DateTimeOffset), @p79='?' (DbType = Int64), @p80='?' (DbType = DateTimeOffset), @p81='?' (DbType = Int64), @p82='?' (DbType = DateTimeOffset), @p83='?' (DbType = Int64), @p84='?' (DbType = DateTimeOffset), @p85='?' (DbType = Int64), @p86='?' (DbType = DateTimeOffset), @p87='?' (DbType = Int64), @p88='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p49, @p50, @p51, @p52, 0),
(@p53, @p54, @p55, @p56, 1),
(@p57, @p58, @p59, @p60, 2),
(@p61, @p62, @p63, @p64, 3),
(@p65, @p66, @p67, @p68, 4),
(@p69, @p70, @p71, @p72, 5),
(@p73, @p74, @p75, @p76, 6),
(@p77, @p78, @p79, @p80, 7),
(@p81, @p82, @p83, @p84, 8),
(@p85, @p86, @p87, @p88, 9)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 17:39:22.208 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Championships] SET [Phase] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-11-03 17:39:22.210 -03:00 [INF] Executing OkObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[CommonUtility.Model.MessageModel, CommonUtility, Version=1.5.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-03 17:39:22.211 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 4416.2272ms
2023-11-03 17:39:22.213 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 17:39:22.214 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 200 - application/json;+charset=utf-8 4481.3011ms
2023-11-03 17:47:48.715 -03:00 [INF] Request starting HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - -
2023-11-03 17:47:48.760 -03:00 [INF] Executing endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 17:47:48.766 -03:00 [INF] Route matched with {action = "ChangeChampionshipPhase", controller = "Championship"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeChampionshipPhase(JiuJitsuMaster.Core.Interfaces.Services.IChampionshipService, Int64, JiuJitsuMaster.AdminAPI.Models.ChampionshipModel.ChampionshipPhaseRequestModel, System.Threading.CancellationToken) on controller JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController (JiuJitsuMaster.AdminAPI).
2023-11-03 17:47:51.727 -03:00 [INF] Executed DbCommand (174ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[AboutEvent], [c].[City], [c].[Code], [c].[CreatedAt], [c].[Deleted], [c].[EventDate], [c].[GeneralInfo], [c].[Gym], [c].[HighlightOrder], [c].[Highlights], [c].[Image], [c].[Phase], [c].[PublicEntry], [c].[State], [c].[Status], [c].[Title], [c].[Type], [c].[UpdatedAt]
FROM [Championships] AS [c]
WHERE [c].[Deleted] = CAST(0 AS bit) AND [c].[Id] = @__id_0
2023-11-03 17:47:51.738 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__championshipId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AthleteId], [a].[ChampionshipId], [a].[CreatedAt], [a].[Deleted], [a].[UpdatedAt], [t].[Id], [t].[Belt], [t].[BirthDate], [t].[CPF], [t].[Code], [t].[CreatedAt], [t].[Deleted], [t].[Email], [t].[Gender], [t].[Name], [t].[Password], [t].[RefreshToken], [t].[Team], [t].[UpdatedAt], [t].[UserId], [t].[Weight]
FROM [AthleteChampionships] AS [a]
INNER JOIN (
    SELECT [a0].[Id], [a0].[Belt], [a0].[BirthDate], [a0].[CPF], [a0].[Code], [a0].[CreatedAt], [a0].[Deleted], [a0].[Email], [a0].[Gender], [a0].[Name], [a0].[Password], [a0].[RefreshToken], [a0].[Team], [a0].[UpdatedAt], [a0].[UserId], [a0].[Weight]
    FROM [Athletes] AS [a0]
    WHERE [a0].[Deleted] = CAST(0 AS bit)
) AS [t] ON [a].[AthleteId] = [t].[Id]
WHERE [a].[Deleted] = CAST(0 AS bit) AND [a].[ChampionshipId] = @__championshipId_0
2023-11-03 17:48:07.416 -03:00 [INF] Executed DbCommand (48ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int64), @p2='?' (DbType = DateTimeOffset), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTimeOffset), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int64), @p9='?' (DbType = DateTimeOffset), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTimeOffset), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = Int64), @p16='?' (DbType = DateTimeOffset), @p17='?' (DbType = Boolean), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTimeOffset), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int64), @p23='?' (DbType = DateTimeOffset), @p24='?' (DbType = Boolean), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTimeOffset), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Int64), @p30='?' (DbType = DateTimeOffset), @p31='?' (DbType = Boolean), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTimeOffset), @p34='?' (DbType = Int32), @p35='?' (DbType = Int32), @p36='?' (DbType = Int64), @p37='?' (DbType = DateTimeOffset), @p38='?' (DbType = Boolean), @p39='?' (DbType = Int32), @p40='?' (DbType = DateTimeOffset), @p41='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Fights] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5)) AS i ([Belt], [ChampionshipId], [CreatedAt], [IsInternalTeamFight], [Round], [UpdatedAt], [Weight], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Belt], [ChampionshipId], [CreatedAt], [IsInternalTeamFight], [Round], [UpdatedAt], [Weight])
VALUES (i.[Belt], i.[ChampionshipId], i.[CreatedAt], i.[IsInternalTeamFight], i.[Round], i.[UpdatedAt], i.[Weight])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 17:48:07.473 -03:00 [INF] Executed DbCommand (53ms) [Parameters=[@p42='?' (DbType = Int64), @p43='?' (DbType = DateTimeOffset), @p44='?' (DbType = Int64), @p45='?' (DbType = DateTimeOffset), @p46='?' (DbType = Int64), @p47='?' (DbType = DateTimeOffset), @p48='?' (DbType = Int64), @p49='?' (DbType = DateTimeOffset), @p50='?' (DbType = Int64), @p51='?' (DbType = DateTimeOffset), @p52='?' (DbType = Int64), @p53='?' (DbType = DateTimeOffset), @p54='?' (DbType = Int64), @p55='?' (DbType = DateTimeOffset), @p56='?' (DbType = Int64), @p57='?' (DbType = DateTimeOffset), @p58='?' (DbType = Int64), @p59='?' (DbType = DateTimeOffset), @p60='?' (DbType = Int64), @p61='?' (DbType = DateTimeOffset), @p62='?' (DbType = Int64), @p63='?' (DbType = DateTimeOffset), @p64='?' (DbType = Int64), @p65='?' (DbType = DateTimeOffset), @p66='?' (DbType = Int64), @p67='?' (DbType = DateTimeOffset), @p68='?' (DbType = Int64), @p69='?' (DbType = DateTimeOffset), @p70='?' (DbType = Int64), @p71='?' (DbType = DateTimeOffset), @p72='?' (DbType = Int64), @p73='?' (DbType = DateTimeOffset), @p74='?' (DbType = Int64), @p75='?' (DbType = DateTimeOffset), @p76='?' (DbType = Int64), @p77='?' (DbType = DateTimeOffset), @p78='?' (DbType = Int64), @p79='?' (DbType = DateTimeOffset), @p80='?' (DbType = Int64), @p81='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [AthleteFights] USING (
VALUES (@p42, @p43, @p44, @p45, 0),
(@p46, @p47, @p48, @p49, 1),
(@p50, @p51, @p52, @p53, 2),
(@p54, @p55, @p56, @p57, 3),
(@p58, @p59, @p60, @p61, 4),
(@p62, @p63, @p64, @p65, 5),
(@p66, @p67, @p68, @p69, 6),
(@p70, @p71, @p72, @p73, 7),
(@p74, @p75, @p76, @p77, 8),
(@p78, @p79, @p80, @p81, 9)) AS i ([AthleteId], [CreatedAt], [FightId], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AthleteId], [CreatedAt], [FightId], [UpdatedAt])
VALUES (i.[AthleteId], i.[CreatedAt], i.[FightId], i.[UpdatedAt])
OUTPUT INSERTED.[Id], INSERTED.[Deleted], i._Position;
2023-11-03 17:48:07.489 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTimeOffset)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Championships] SET [Phase] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2023-11-03 17:48:07.491 -03:00 [INF] Executing OkObjectResult, writing value of type 'CommonUtility.Model.BaseModel`1[[CommonUtility.Model.MessageModel, CommonUtility, Version=1.5.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-03 17:48:07.493 -03:00 [INF] Executed action JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI) in 18725.3204ms
2023-11-03 17:48:07.494 -03:00 [INF] Executed endpoint 'JiuJitsuMaster.AdminAPI.Controllers.ChampionshipController.ChangeChampionshipPhase (JiuJitsuMaster.AdminAPI)'
2023-11-03 17:48:07.496 -03:00 [INF] Request finished HTTP/2 PATCH https://localhost:7085/Championship/Championship/7/changePhase?Phase=Brackets - - - 200 - application/json;+charset=utf-8 18784.9569ms
